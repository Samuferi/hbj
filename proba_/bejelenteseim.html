<!doctype html>
<html lang="hu">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <title>Hibabejelent≈ë ‚Äì Kezd≈ëlap</title>
        <link rel="icon" href="balintka.jpg" />
        <link rel="stylesheet" href="index/index.css" />
        <script src="index/index.js" defer></script>
    </head>
    <body>
        <div class="app" role="application">
            <aside class="sidebar" aria-label="Oldal navig√°ci√≥">
            <div class="brand">Hibabejelent≈ë</div>
            <div class="welcome-small">√údv√∂z√∂l a csapat hibakezel≈ë rendszere</div>
            <nav class="nav" role="navigation" aria-label="F≈ëmen√º">
                <button data-view="contact" onclick="location.href='index.html'">‚òéÔ∏è Kapcsolat</button>
                <button data-view="new" onclick="location.href='ujprob.html'">‚ûï √öj probl√©ma felv√©tele</button>
                <button data-view="mine" class="active">üìã Bejelent√©seim</button>
                <!--<button data-view="messages">‚úâÔ∏è √úzenetek</button>-->
                <button data-view="news" onclick="location.href='hirek.html'">üì∞ H√≠rek</button>
            </nav>
            </aside>

            <main class="main" id="main" tabindex="0">
                <h2>Bejelent√©seim</h2>
                <div id="reports"></div>

                <script>
                    // Mock bejelent√©sek (backendb≈ël j√∂n majd JSON-ban)
                    const mockReports = [
                    { id: 'PRB-1023', location: '√âp√ºlet A', date: '2025-08-20 14:30', desc: 'L√°mpa nem vil√°g√≠t a folyos√≥n', status: '√öj' },
                    { id: 'PRB-1045', location: 'Parkol√≥', date: '2025-08-22 09:15', desc: 'Olajfolt a parkol√≥ban', status: 'Folyamatban' },
                    { id: 'PRB-1050', location: 'Labor 101', date: '2025-08-25 10:00', desc: 'Sz√°m√≠t√≥g√©p nem indul', status: 'Megoldva' },
                    ];

                    const statusSteps = ['√öj', 'Folyamatban', 'Megoldva'];

                    function renderReports() {
                    const container = document.getElementById('reports');
                    container.innerHTML = '';

                    mockReports.forEach(report => {
                        const card = document.createElement('div');
                        card.className = 'card';

                        card.innerHTML = `
                        <h3>${report.id} ‚Äì ${report.location}</h3>
                        <div class="meta">${report.date}</div>
                        <p>${report.desc}</p>
                        <div class="progress-container">
                            <div class="progress-bar">
                            <div class="progress-fill"></div>
                            </div>
                            <span class="status-label">${report.status}</span>
                        </div>
                        `;

                        // st√°tusz alapj√°n progress
                        const fill = card.querySelector('.progress-fill');
                        const index = statusSteps.indexOf(report.status);
                        if (index >= 0) {
                        const percent = (index+1)/statusSteps.length * 100;
                        fill.style.width = percent + '%';
                        }

                        container.appendChild(card);
                    });
                    }

                    renderReports();
                </script>

            </main>
        </div>
    </body>
</html>